<div class="main-layout">
    <app-header [headerOptions]="headerOptions"></app-header>
    <div class="app-container">

    <!-- History Panel -->
    <div class="history-panel">
        <!-- Dynamically generated cards for each mind map -->
        <!-- <div class="card" *ngFor="let map of mindMaps"> -->
            <div class="card-content">
                <!-- {{ map.title }} -->
                test
            </div>
        <!-- </div> -->
    </div>

    <!-- Workspace -->
    <div class="workspace">
        <!-- Header -->
        <div class="workspace-header">
            <div class="header-left">
                <i class="fas fa-brain"></i>
                <span class="mind-map-title">Title of Mind Map</span>
            </div>
            <div class="header-center">
                <!-- Random icons -->
                <i class="fas fa-user"></i>
                <i class="fas fa-user"></i>
                <i class="fas fa-user"></i>
                <i class="fas fa-user"></i>
                <i class="fas fa-user"></i>
            </div>
            <div class="header-right">
                <button class="share-button">
                    <i class="fas fa-share"></i> Share
                </button>
            </div>
        </div>

        <!-- Graph Container -->
        <div class="graph-container">
            <ngx-graph class="chart-container" [nodes]="nodes" [links]="links" [layout]="layout" [enableZoom]="false"
                [autoZoom]="false" [panOnZoom]="true" [autoCenter]="true">

                <ng-template #nodeTemplate let-node>
                    <svg:g class="node"
                        [attr.transform]="'translate(' + (node.fixedWidth / 2) + ',' + (node.dynamicHeight / 2) + ')'">
                        <svg:rect [attr.width]="node.fixedWidth" [attr.height]="node.dynamicHeight"
                            [attr.fill]="node.data.color" stroke="black"></svg:rect>
                        <svg:foreignObject [attr.width]="node.fixedWidth" [attr.height]="node.dynamicHeight">
                            <div xmlns="http://www.w3.org/1999/xhtml"
                                style="display: flex; align-items: center; height: 100%; padding-left: 10px;">
                                <span style="font-size: 14px; padding-right: 4px;">‚óè</span>
                                <!-- Use a Unicode character -->
                                <div style="text-align: left; overflow-wrap: break-word; padding-right: 10px;">
                                    <i class="far fa-user"></i>

                                    {{ node.label }}
                                </div>
                            </div>
                        </svg:foreignObject>
                    </svg:g>
                </ng-template>

                <ng-template #linkTemplate let-link>
                    <svg:path class="edge-path" [attr.d]="calculateCustomPath(link)" stroke-width="2" stroke="black">
                    </svg:path>
                </ng-template>


                <!-- You can add more templates for labels, arrows, etc., if needed -->

            </ngx-graph>
        </div>

        <!-- Footer/Search bar -->
        <div class="footer">
            <input type="text" placeholder="Search..." class="search-bar" />
        </div>
    </div>
</div>