<div class="container mt-4">
  <h2>{{ isEditMode ? 'Edit Illustration' : 'Create New Illustration' }}</h2>
  <form [formGroup]="illustrationForm" (ngSubmit)="onSubmit()" class="mt-4">
  
      <div class="mb-3">
        <label for="title" class="form-label">Title:</label>
        <input id="title" type="text" class="form-control" formControlName="title">
      </div>
  
      <div class="mb-3">
        <label for="thumbnailImage" class="form-label">Thumbnail Image URL:</label>
        <input id="thumbnailImage" type="text" class="form-control" formControlName="thumbnailImage">
      </div>
  
      <div formArrayName="imagePaths" class="mb-3">
        <label class="form-label">Image Paths:</label>
        <div *ngFor="let imagePath of imagePaths.controls; let i = index" class="d-flex align-items-center mb-2">
          <input [formControlName]="i" class="form-control me-2">
          <button (click)="removeImagePath(i)" class="btn btn-danger btn-sm">Remove</button>
        </div>
        <button (click)="addImagePath()" type="button" class="btn btn-primary btn-sm">Add Image Path</button>
      </div>
  
      <!-- ... similar structure for tags and categories ... -->
<!-- Categories Section -->
<div formArrayName="categories" class="mb-3">
  <label class="form-label">Categories:</label>
  <div *ngFor="let category of categories.controls; let i = index" [formGroupName]="i" class="d-flex align-items-center mb-2">
    <select formControlName="id" class="form-control me-2">
      <option value="">Select a category</option>
      <option *ngFor="let cat of savedCategories" [ngValue]="cat">{{ cat.name }}</option>
    </select>
    <button (click)="removeCategory(i)" type="button" class="btn btn-danger btn-sm">Remove</button>
  </div>
  <button (click)="addCategory()" type="button" class="btn btn-primary btn-sm">Add Category</button>
</div>




<!-- Tags Section -->
<div formArrayName="tags" class="mb-3">
  <label class="form-label">Tags:</label>
  <div *ngFor="let tag of tags.controls; let i = index" [formGroupName]="i" class="d-flex align-items-center mb-2">
    <select formControlName="id" class="form-control me-2">
      <option value="">Select a tag</option>
      <option *ngFor="let t of savedTags" [ngValue]="t">{{ t.name }}</option>
    </select>
    <button (click)="removeTag(i)" class="btn btn-danger btn-sm">Remove</button>
  </div>
  <button (click)="addTag()" type="button" class="btn btn-primary btn-sm">Add Tag</button>
</div>

      
      <div class="mb-3">
        <label for="details" class="form-label">Details:</label>
        <textarea id="details" class="form-control" rows="4" formControlName="details"></textarea>
      </div>
  
      <div class="mb-3">
        <label for="metaTitle" class="form-label">Meta Title:</label>
        <input id="metaTitle" type="text" class="form-control" formControlName="metaTitle">
      </div>
  
      <div class="mb-3">
        <label for="metaDescription" class="form-label">Meta Description:</label>
        <input id="metaDescription" type="text" class="form-control" formControlName="metaDescription">
      </div>
  
      <div class="mb-3">
        <label for="slug" class="form-label">Slug:</label>
        <input id="slug" type="text" class="form-control" formControlName="slug">
      </div>
  
      <div class="mb-3">
        <label for="githubRepoUrl" class="form-label">GitHub Repository URL:</label>
        <input id="githubRepoUrl" type="text" class="form-control" formControlName="githubRepoUrl">
      </div>
  
      <div class="mb-3">
        <label for="tweetLink" class="form-label">Tweet Link:</label>
        <input id="tweetLink" type="text" class="form-control" formControlName="tweetLink">
      </div>
  
      <button type="submit" class="btn btn-success">{{ isEditMode ? 'Update' : 'Create' }}</button>
      <button *ngIf="isEditMode" (click)="cancelEdit()" type="button" class="btn btn-warning">Cancel</button>

    </form>
  </div>
  